
# ███████╗░██████╗██╗░░██╗██████╗░░█████╗░
# ╚════██║██╔════╝██║░░██║██╔══██╗██╔══██╗
# ░░███╔═╝╚█████╗░███████║██████╔╝██║░░╚═╝
# ██╔══╝░░░╚═══██╗██╔══██║██╔══██╗██║░░██╗
# ███████╗██████╔╝██║░░██║██║░░██║╚█████╔╝
# ╚══════╝╚═════╝░╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░
#-------------------------------------------------------------------------------------------------#
# Base config generated by zsh-newuser-install:                                                   #
# $ autoload -Uz zsh-newuser-install                                                              #
# $ zsh-newuser-install -f                                                                        #
# Some functionality taken from https://github.com/MrElendig/dotfiles-alice/blob/master/.zshrc    #
#-------------------------------------------------------------------------------------------------#


# ▄▀█ █░░ █ ▄▀█ █▀ █▀▀ █▀
# █▀█ █▄▄ █ █▀█ ▄█ ██▄ ▄█

# Clear everything
alias clear="clear && printf '\e[3J'"

# Filesystem
alias ls="eza"
alias ll="eza -lah --git"
alias tree="eza -T -L=1"
alias cat="bat"

# Neovim
alias vim="nvim"

# Git
alias gst="git status"
alias grc="git rm -r --cached ."
alias gfp="git fetch && git pull"

# Chezmoi
alias .cd="chezmoi cd ~"
alias .apply="chezmoi apply"
alias .update="chezmoi update"
alias .add="chezmoi add"
alias .readd="chezmoi re-add"
alias .edit="chezmoi edit --apply"
alias .vim="chezmoi edit --apply"
alias .merge="chezmoi merge"
alias .diff="chezmoi diff"
alias .managed="chezmoi managed"
alias .verify="chezmoi verify"

# Source .zshrc
alias sourcez="source ~/.zshrc"

{{ if eq .chezmoi.os "linux" -}}
# AUR
alias yay="paru"
{{ end -}}

# Scripts directory
export SCRIPTS="~/.local/bin"

# █░█ █ █▀ ▀█▀ █▀█ █▀█ █▄█
# █▀█ █ ▄█ ░█░ █▄█ █▀▄ ░█░
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000

# █▀█ █▀█ ▀█▀ █ █▀█ █▄░█ █▀
# █▄█ █▀▀ ░█░ █ █▄█ █░▀█ ▄█
setopt beep extendedglob nomatch
unsetopt autocd notify

# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█
bindkey -v

# █▀▄ █▀▀ █▀▀ ▄▀█ █░█ █░░ ▀█▀   █▀▀ █▀▄ █ ▀█▀ █▀█ █▀█
# █▄▀ ██▄ █▀░ █▀█ █▄█ █▄▄ ░█░   ██▄ █▄▀ █ ░█░ █▄█ █▀▄
export EDITOR="nvim"

# █▀▀ █▀█ █░░ █▀█ █▀█ █▀▀ █▀▄   █▀▄▀█ ▄▀█ █▄░█ █░█ ▄▀█ █░░ █▀
# █▄▄ █▄█ █▄▄ █▄█ █▀▄ ██▄ █▄▀   █░▀░█ █▀█ █░▀█ █▄█ █▀█ █▄▄ ▄█
man() {
  env \
    LESS_TERMCAP_mb=$(printf "\e[1;31m") \
    LESS_TERMCAP_md=$(printf "\e[1;31m") \
    LESS_TERMCAP_me=$(printf "\e[0m") \
    LESS_TERMCAP_se=$(printf "\e[0m") \
    LESS_TERMCAP_so=$(printf "\e[1;44;33m") \
    LESS_TERMCAP_ue=$(printf "\e[0m") \
    LESS_TERMCAP_us=$(printf "\e[1;32m") \
    man "$@"
}

# ▀█ █▀█ ▀▄▀ █ █▀▄ █▀▀
# █▄ █▄█ █░█ █ █▄▀ ██▄
eval "$(zoxide init zsh --cmd cd)"

# █▀▀ █▀█ █▀▄▀█ █▀█ █░░ █▀▀ ▀█▀ █ █▀█ █▄░█
# █▄▄ █▄█ █░▀░█ █▀▀ █▄▄ ██▄ ░█░ █ █▄█ █░▀█
zstyle ':completion:*' matcher-list '' 'm:{a-zA-Z}={A-Za-z}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'
zstyle :compinstall filename '${HOME}/.zshrc'

autoload -Uz compinit
compinit

# █▀ ▀█▀ ▄▀█ █▀█ █▀ █░█ █ █▀█
# ▄█ ░█░ █▀█ █▀▄ ▄█ █▀█ █ █▀▀
eval "$(starship init zsh)"

# █▄░█ █░█ █▀▄▀█
# █░▀█ ▀▄▀ █░▀░█
{{ if eq .chezmoi.os "linux" -}}
source /usr/share/nvm/init-nvm.sh
{{ else if eq .chezmoi.os "darwin" -}}
export NVM_DIR="$HOME/.nvm"
  [ -s "/opt/homebrew/opt/nvm/nvm.sh" ] && \. "/opt/homebrew/opt/nvm/nvm.sh"  # This loads nvm
  [ -s "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm" ] && \. "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
{{ end -}}

# █▄▄ █░█ █▄░█
# █▄█ █▄█ █░▀█
{{ if eq .chezmoi.os "linux" -}}
[ -s "/home/astherae/.bun/_bun" ] && source "/home/astherae/.bun/_bun"
{{ else if eq .chezmoi.os "darwin" -}}
[ -s "/Users/joaoinez/.bun/_bun" ] && source "/Users/joaoinez/.bun/_bun"
{{ end -}}

export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# █▀█ █░░ █░█ █▀▀ █ █▄░█ █▀
# █▀▀ █▄▄ █▄█ █▄█ █ █░▀█ ▄█
{{ if eq .chezmoi.os "linux" -}}
source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
{{ end -}}
